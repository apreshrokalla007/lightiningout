<!DOCTYPE html>
<html lang="en">
  <head>

      <!-- <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://loans-default-dev-ed.lightning.force.com">
      <meta http-equiv="X-Frame-Options" content="ALLOW-FROM https://loans-default-dev-ed.lightning.force.com">
      -->
      
      <!-- Content-Security-Policy: frame-ancestors 'self' https://cw.na1.hgncloud.com
X-Frame-Options: ALLOW-FROM https://cw.na1.hgncloud.com -->

    <title>
      Salesforce Lightnig Out Demo 
    </title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon"  type="image/icon"  href="Cloud Red.ico" />
  </head>
  <body>

    <nav role="navigation" class="navbar navbar-default">
      <div class="container-fluid">

        <div class="navbar-header">
          <button type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" class="navbar-toggle">
            <span class="sr-only">
              Toggle navigation
            </span>
            <span class="icon-bar">
            </span>
            <span class="icon-bar">
            </span>
            <span class="icon-bar">
            </span>
          </button>
          <a class="navbar-brand">
           <span class="glyphicon glyphicon-cloud" style="vertical-align : middle" ></span> Salesforce Lightning Out Demo
          </a>
        </div> 
       
      </div>
    </nav> 

	<div id="componentwavedashboard"> 
     
	</div>
  
         
  </body>
  <script src="https://loans-default-dev-ed.lightning.force.com/lightning/lightning.out.js"></script>
  <script type="text/javascript" src="lib/jquery.js">  </script>
  <script type="text/javascript" src="lib/jqueryCookies.js"> </script>   

<script> 
var _lightningReady = false;
if(!$.cookie("AccToken"))
{ 
    alert("Login to Salesforce First!!!");
}else{
//	createChatterFeed('NEWS');
createWaveDashboardLightning('NEWS');
//createWaveDashboard('NEWS2');
}



function setupLightning(callback) {
	var appName = "c:waveDashboardLightningApp";
	 

	if (_lightningReady) {
		if (typeof callback === "function") {
			callback();
		}
	} else {
	    // Transform the URL for Lightning
	    var url = $.cookie("InstURL");
		url = url.replace("my.salesforce", "lightning.force");

	    $Lightning.use(appName, 
	        function() {
				_lightningReady = true;
        document.getElementById("componentwavedashboard").style.display = "";
				if (typeof callback === "function") {
					callback();
				}
	        }, url, $.cookie("AccToken"));
	}
}

function createWaveDashboardLightning(type, subjectId) {
    setupLightning(function() {
    $Lightning.createComponent("c:waveDashboardLightning", {type: type, subjectId: subjectId}, "componentwavedashboard"); 
    
    });
}

// function createWaveDashboard(type, subjectId) {
//     setupLightning(function() {
// 		$Lightning.createComponent("wave:waveDashboard", {dashboardId: "0FK7F000000nHYzWAM"}, "wavedashboard"); 
//     });
// }

</script>

 <style type="text/css"> 
 
     html,body{width:100%;height:100%;} 
	 
	.slds-scope:not(html), .slds-scope body, .slds-media__body, .forceChatterStyle .cuf-preamble, .cuf-subPreamble .slds-text-body--small, .slds-post__footer {
		font-size: 1.0rem !important; 
	}	 
 </style>
</html> 
